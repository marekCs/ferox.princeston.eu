!function(r,y){"use strict";dSplide.extend({xMedia:function(s,i){var o,e=s.root,l=s.options,n=(l.video||{}).autoplay||!1,a=!1,t="is-playing",p="is-paused",c=".media__icon",d=c+"--close",u=c+"--play",m=r.multimedia||!1,f=r.viewport||!1;return{mount:function(){var i=this;s.on("visible.spm",i.play.bind(i)),s.on("moved.spm",i.close.bind(i)),r.on(e,"click.spm",d,i.stop.bind(i)),r.on(e,"click.spm",u,i.pause.bind(i))},close:function(){this.stop(),this.stopLocalVideo(),a=!1},play:function(i){i=i.slide;1<l.perPage||!n||a||r.hasClass(i,"is-visible")&&(i=r.find(i,".media--player"),f&&!f.isVisible(i)||r.isElm(i)&&(this.close(),i=r.find(i,u),r.isElm(i)&&this._play(i)))},_play:function(i){y.clearTimeout(o),o=y.setTimeout(function(){i[r.equal(i,"video")?"play":"click"]()},501)},stopLocalVideo:function(){m&&m.pause()},stop:function(){r.removeClass(e,p);var i=r.find(e,"."+t);r.isElm(i)&&(r.removeClass(i,t),i=r.find(i,d),r.isElm(i)&&(a=!0,i.click()))},pause:function(){a=!0,r.addClass(e,p),l.autoplay&&s.off("autoplay:playing")}}}})}(dBlazy,this);
